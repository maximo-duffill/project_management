"use strict";(self["webpackChunkgestion_proyectos"]=self["webpackChunkgestion_proyectos"]||[]).push([[741],{741:function(e,a,s){s.r(a),s.d(a,{default:function(){return k}});var o=s(396),l=s(139);const r=e=>((0,o.dD)("data-v-0cd32624"),e=e(),(0,o.Cn)(),e),i={class:"header"},t=r((()=>(0,o._)("div",{class:"brand-text"},"OrganizeHub",-1))),n={class:"login-container"},d=r((()=>(0,o._)("h2",null,"Login",-1))),c={key:0,class:"feedback-message"},m={class:"signup-link"};function u(e,a,s,r,u,p){const g=(0,o.up)("router-link"),h=(0,o.up)("el-input"),f=(0,o.up)("el-form-item"),w=(0,o.up)("el-button"),k=(0,o.up)("el-form"),b=(0,o.up)("el-card");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("header",i,[(0,o.Wm)(g,{to:"/",class:"brand"},{default:(0,o.w5)((()=>[t])),_:1})]),(0,o._)("div",n,[(0,o.Wm)(b,{class:"login-card"},{default:(0,o.w5)((()=>[d,(0,o.Wm)(k,{ref:"loginForm",model:u.loginForm,"label-width":"80px"},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{label:"Email",prop:"email",error:u.emailError},{default:(0,o.w5)((()=>[(0,o.Wm)(h,{modelValue:u.loginForm.email,"onUpdate:modelValue":a[0]||(a[0]=e=>u.loginForm.email=e),placeholder:"Enter your email",onInput:e.validateEmail},null,8,["modelValue","onInput"])])),_:1},8,["error"]),(0,o.Wm)(f,{label:"Password",prop:"password"},{default:(0,o.w5)((()=>[(0,o.Wm)(h,{type:"password",modelValue:u.loginForm.password,"onUpdate:modelValue":a[1]||(a[1]=e=>u.loginForm.password=e),placeholder:"Enter your password"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[(0,o.Wm)(w,{type:"primary",onClick:p.login},{default:(0,o.w5)((()=>[(0,o.Uk)("Login")])),_:1},8,["onClick"])])),_:1}),u.feedbackMessage?((0,o.wg)(),(0,o.iD)("div",c,(0,l.zw)(u.feedbackMessage),1)):(0,o.kq)("",!0)])),_:1},8,["model"]),(0,o._)("p",m,[(0,o.Uk)("Not signed in? "),(0,o.Wm)(g,{to:"/signin"},{default:(0,o.w5)((()=>[(0,o.Uk)("Sign in here")])),_:1})])])),_:1})])])}var p=s(76),g=s(108),h={data(){return{loginForm:{email:"",password:""},emailError:"",feedbackMessage:""}},methods:{async login(){if(this.isValidEmail(this.loginForm.email))try{const e=await p.Z.post("http://localhost:3000/login",{email:this.loginForm.email,password:this.loginForm.password});e.data.success?(this.$store.commit("setUser",{email:this.loginForm.email}),console.log("User set in store:",this.$store.state.user),this.feedbackMessage="Login successful!",g.Z.push("/dashboard")):this.feedbackMessage="Incorrect email or password. Please try again."}catch(e){console.error("Login error:",e),this.feedbackMessage="An error occurred during login."}else this.feedbackMessage="Invalid email. Please check your input."},isValidEmail(e){const a=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return a.test(e)}}},f=s(89);const w=(0,f.Z)(h,[["render",u],["__scopeId","data-v-0cd32624"]]);var k=w}}]);
//# sourceMappingURL=741.27fb2318.js.map